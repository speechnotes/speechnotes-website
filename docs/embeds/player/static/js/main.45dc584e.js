!function(){var e={800:function(e,t,n){var a=n(704).default;function i(e){return null==e||e.length<2?"":e.toLowerCase().split("-")[0].split("_")[0]}function o(e,t){return i(e)==i(t)}t.TtsEngine={DEFAULT_LANG:"en",voice:{},voices:[],rate:1,utteranceId:0,startedAndNotTerminatedCounter:0,listener:null,utterance:{},_googleBugTimeout:null,_speakTimeout:null,_canceledAtMs:0,init:function(e){var t=this;e&&(this.listener=e),this._populateVoices(),speechSynthesis.onvoiceschanged=function(){t._populateVoices()}},setListener:function(e){this.listener=e},setBestMatchingVoice:function(e,t,n){if(null==this.voices||0==this.voices.length)return"";if(e&&e.voiceURI||t||n||(this.voice&&this.voice.voiceURI?t=this.voice.voiceURI:n=this.DEFAULT_LANG),e&&(t=e.voiceURI||t),t){var i,r=a(this.voices);try{for(r.s();!(i=r.n()).done;){var s=i.value;if(s.voiceURI==t)return this.voice=s,s.voiceURI}}catch(y){r.e(y)}finally{r.f()}}if(n){if(this.voice&&o(this.voice.lang,n))return this.voice.voiceURI;var l=this.voices.filter((function(e){return o(e.lang,n)}));if(l&&l.length>0){if(1==l.length)return this.voice=l[0],this.voice.voiceURI;if(!n.startsWith("en")&&!n.startsWith("es"))return this.voice=l[0],this.voice.voiceURI;var c,u,d=-1,h=a(l);try{for(h.s();!(u=h.n()).done;){var f=u.value,g=0;f.localService&&(g+=1.5),2==f.lang.length?g+=3:-1!=["en-us","en-uk","en-gb","es-es"].indexOf(f.lang.toLowerCase().replace("_","-"))?g+=4:-1==["en-in"].indexOf(f.lang.toLowerCase().replace("_","-"))&&(g+=2),console.log("score: "+g+" for: ",f),g>d&&(d=g,c=f)}}catch(y){h.e(y)}finally{h.f()}if(c)return this.voice=c,this.voice.voiceURI}}var v,p=a(this.voices);try{for(p.s();!(v=p.n()).done;){var m=v.value;if(this.voice=m,m.localService)return m.voiceURI}}catch(y){p.e(y)}finally{p.f()}return this.voice.voiceURI},_populateVoices:function(){var e=window.speechSynthesis.getVoices();e&&e.length>0&&(this.voices=e,this.setBestMatchingVoice(this.voice,null,null),this.listener&&this.listener.onInit&&this.listener.onInit(this.voices))},setVoiceByUri:function(e){this.setBestMatchingVoice(null,e,null)},getVoiceURI:function(){return this.voice||this.setBestMatchingVoice(),this.voice?this.voice.voiceURI:""},setRate:function(e){"string"==typeof e&&(e=Number(e)),isNaN(e)||(e<.1&&(e=.1),e>4&&(e=4),this.rate=e)},isInitiated:function(){return null!=this.voices},_defaultOnStart:function(e){this.startedAndNotTerminatedCounter++,this._solveChromeBug()},_defaultOnEnd:function(e){this.startedAndNotTerminatedCounter>0&&this.startedAndNotTerminatedCounter--,this._clearUtteranceTimeouts()},_defaultOnError:function(e){this.startedAndNotTerminatedCounter>0&&this.startedAndNotTerminatedCounter--,this._clearUtteranceTimeouts()},_clearUtteranceTimeouts:function(){null!=this._googleBugTimeout&&(window.clearTimeout(this._googleBugTimeout),this._googleBugTimeout=null)},_solveChromeBug:function(){if(this.voice&&-1!==this.voice.voiceURI.toLowerCase().indexOf("google")){this._clearUtteranceTimeouts();var e=this;this._googleBugTimeout=window.setTimeout((function(){window.speechSynthesis.pause(),window.speechSynthesis.resume(),e._solveChromeBug()}),1e4)}},_prepareTextForSynthesis:function(e){var t=e;return(t=(t=t.replace("\xb7",", ")).replace("- ",", ")).trim(),t},speakOut:function(e){var t=this;if(this.startedAndNotTerminatedCounter>0||window.speechSynthesis.paused||window.speechSynthesis.pending||window.speechSynthesis.speaking)return console.log("tts - ronen1"),this.stop(),void(this._speakTimeout=window.setTimeout((function(){t.speakOut(e)}),200));if(e){if(e=this._prepareTextForSynthesis(e),!this.isInitiated())return!1;this.utteranceId++;var n=new SpeechSynthesisUtterance;this.utterance=n,n.text=e,null==this.voice&&this.setBestMatchingVoice(null,null,null),this.voice&&(n.lang=this.voice.lang,n.voiceURI=this.voice.voiceURI,n.voice=this.voice),n.rate=this.rate;var a=this;n.onmark=function(e){console.log("onmark ",e)},n.onstart=function(e){console.log("onstart ",e),a._defaultOnStart(e),a.listener&&a.listener.onStart&&a.listener.onStart()},n.onboundary=function(e){console.log("onboundary: "+e.name+" boundary reached after "+e.elapsedTime+" milliseconds.",e)},n.onend=function(e){a._defaultOnEnd(e),a.listener&&a.listener.onDone&&a.listener.onDone(),n=null},n.onerror=function(e){a._defaultOnError(e),n=null},console.log("tts - ronen right away"),this._speakUtterance(n)}else this.utterance&&this.utterance.onend()},stop:function(){null!=this._speakTimeout&&(window.clearTimeout(this._speakTimeout),this._speakTimeout=null),window.speechSynthesis.cancel(),this.startedAndNotTerminatedCounter=0,this._canceledAtMs=Date.now()},_speakUtterance:function(e){null!=this._speakTimeout&&(window.clearTimeout(this._speakTimeout),this._speakTimeout=null),window.speechSynthesis.paused&&window.speechSynthesis.resume(),Date.now()-this._canceledAtMs>100?window.speechSynthesis.speak(e):this._speakTimeout=window.setTimeout((function(){window.speechSynthesis.speak(e)}),200)}}},816:function(e,t,n){t.TtsEngine=n(800).TtsEngine},897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a},e.exports.__esModule=!0,e.exports.default=e.exports},704:function(e,t,n){var a=n(116);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,r=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw r}}}},e.exports.__esModule=!0,e.exports.default=e.exports},116:function(e,t,n){var a=n(897);e.exports=function(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function n(a){var i=t[a];if(void 0!==i)return i.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,n),o.exports}!function(){"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function t(t,n){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,n){if(t){if("string"===typeof t)return e(t,n);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?e(t,n):void 0}}(t))||n&&t&&"number"===typeof t.length){a&&(t=a);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,l=!1;return{s:function(){a=a.call(t)},n:function(){var e=a.next();return s=e.done,e},e:function(e){l=!0,r=e},f:function(){try{s||null==a.return||a.return()}finally{if(l)throw r}}}}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==a(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}function o(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=n(816);function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,i(a.key),a)}}function u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var h=u((function e(n){var a=this;d(this,e),this.data={},this.listeners=[],this.effects=[],this.get=function(e){return a.data.hasOwnProperty(e)?a.data[e]:null},this.updateWithParams=function(e){e&&e instanceof Object&&(a.data=s(s({},a.data),e));var n,i=t(a.effects);try{for(i.s();!(n=i.n()).done;){var o=n.value;a.data=s(s({},a.data),o(a.data))}}catch(c){i.e(c)}finally{i.f()}var r,l=t(a.listeners);try{for(l.s();!(r=l.n()).done;){(0,r.value)(a.data)}}catch(c){l.e(c)}finally{l.f()}},this.addChangeListener=function(e){e&&e instanceof Function&&(a.listeners.push(e),e(a.data))},this.addEffect=function(e){e&&e instanceof Function&&a.effects.push(e)},this.updateWithParams(n)})),f=u((function e(){d(this,e)}));function g(e,t){if(e.childNodes.length<=t.node)return{newCaretPosition:{node:0,charStart:0,charEnd:0},textToSpeak:""};var n=e.childNodes.item(t.node).textContent;return n.length>t.charStart?n?{newCaretPosition:s(s({},t),{},{charEnd:t.charStart+n.length}),textToSpeak:n}:void 0:g(e,{node:t.node+1,charStart:0,charEnd:0})}f.init=function(e,t,n){if(t)for(var a=function(){var e=o[i],n=document.querySelectorAll("["+e+"]");n&&n.forEach((function(n){var a=n.getAttribute(e);a&&t[a]instanceof Function&&n.addEventListener(e.substr(10).toLowerCase(),(function(e){t[a](e)}))}))},i=0,o=["data-ws-onClick","data-ws-onPaste","data-ws-onChange","data-ws-onInput"];i<o.length;i++)a();e&&e.addChangeListener&&e.addChangeListener((function(e){console.log("received updated state on dom hooks: ",e),document.querySelectorAll("[data-ws-value-state]").forEach((function(t){var n=t.getAttribute("data-ws-value-state"),a=e[n];null!==a&&void 0!==a&&(t.value=a)})),document.querySelectorAll("[data-ws-label-state]").forEach((function(t){var n=t.getAttribute("data-ws-label-state"),a=e[n];null!==a&&void 0!==a&&(t.innerHTML=a)})),document.querySelectorAll("[data-ws-style-state]").forEach((function(t){var n=t.getAttribute("data-ws-style-state").split("="),a=n[0],i=n[1],o=e[i];null!==o&&void 0!==o&&(t.style[a]=o)})),document.querySelectorAll("[data-ws-show-if-state]").forEach((function(t){var n=t.getAttribute("data-ws-show-if-state");if(n){var a=(n=n.split("="))[0],i=n[1];"false"===i?e[a]?t.classList.add("hidden"):t.classList.remove("hidden"):"true"===i?e[a]?t.classList.remove("hidden"):t.classList.add("hidden"):i===""+e[a]?t.classList.remove("hidden"):t.classList.add("hidden")}})),document.querySelectorAll("[data-ws-select-if-state]").forEach((function(t){var n=t.getAttribute("data-ws-select-if-state");if(n){var a=(n=n.split("="))[0],i=n[1];"false"===i?e[a]?t.removeAttribute("selected"):t.setAttribute("selected",!0):"true"===i?e[a]?t.setAttribute("selected",!0):t.removeAttribute("selected"):i===""+e[a]?t.setAttribute("selected",!0):t.removeAttribute("selected")}}))})),document.querySelectorAll("[data-ws-toggle]").forEach((function(e){e.addEventListener("click",(function(t){var n=document.querySelector(e.getAttribute("data-ws-toggle"));n&&("none"===getComputedStyle(n).display?n.style.display="":n.style.display="none")}))}))};var v={allLocales:[["Afrikaans (Suid-Afrika)","af-ZA","Afrikaans (South Africa)"],["\u12a0\u121b\u122d\u129b (\u12a2\u1275\u12ee\u1335\u12eb)","am-ET","Amharic (Ethiopia)"],["\u0540\u0561\u0575 (\u0540\u0561\u0575\u0561\u057d\u057f\u0561\u0576)","hy-AM","Armenian (Armenia)"],["Az\u0259rbaycan (Az\u0259rbaycan)","az-AZ","Azerbaijani (Azerbaijan)"],["Bahasa Indonesia (Indonesia)","id-ID","Indonesian (Indonesia)",1],["Bahasa Melayu (Malaysia)","ms-MY","Malay (Malaysia)"],["\u09ac\u09be\u0982\u09b2\u09be (\u09ac\u09be\u0982\u09b2\u09be\u09a6\u09c7\u09b6)","bn-BD","Bengali (Bangladesh)",1],["\u09ac\u09be\u0982\u09b2\u09be (\u09ad\u09be\u09b0\u09a4)","bn-IN","Bengali (India)"],["Catal\xe0 (Espanya)","ca-ES","Catalan (Spain)"],["\u010ce\u0161tina (\u010cesk\xe1 republika)","cs-CZ","Czech (Czech Republic)"],["Dansk (Danmark)","da-DK","Danish (Denmark)"],["Deutsch (Deutschland)","de-DE","German (Germany)"],["English (Australia)","en-AU","English (Australia)"],["English (Canada)","en-CA","English (Canada)"],["English (Ghana)","en-GH","English (Ghana)"],["English (Great Britain)","en-GB","English (United Kingdom)"],["English (India)","en-IN","English (India)"],["English (Ireland)","en-IE","English (Ireland)"],["English (Kenya)","en-KE","English (Kenya)"],["English (New Zealand)","en-NZ","English (New Zealand)"],["English (Nigeria)","en-NG","English (Nigeria)"],["English (Philippines)","en-PH","English (Philippines)"],["English (Singapore)","en-SG","English (Singapore)"],["English (South Africa)","en-ZA","English (South Africa)"],["English (Tanzania)","en-TZ","English (Tanzania)"],["English (United States)","en-US","English (United States)",1],["Espa\xf1ol (Argentina)","es-AR","Spanish (Argentina)"],["Espa\xf1ol (Bolivia)","es-BO","Spanish (Bolivia)"],["Espa\xf1ol (Chile)","es-CL","Spanish (Chile)"],["Espa\xf1ol (Colombia)","es-CO","Spanish (Colombia)"],["Espa\xf1ol (Costa Rica)","es-CR","Spanish (Costa Rica)"],["Espa\xf1ol (Ecuador)","es-EC","Spanish (Ecuador)"],["Espa\xf1ol (El Salvador)","es-SV","Spanish (El Salvador)"],["Espa\xf1ol (Espa\xf1a)","es-ES","Spanish (Spain)",1],["Espa\xf1ol (Estados Unidos)","es-US","Spanish (United States)"],["Espa\xf1ol (Guatemala)","es-GT","Spanish (Guatemala)"],["Espa\xf1ol (Honduras)","es-HN","Spanish (Honduras)"],["Espa\xf1ol (M\xe9xico)","es-MX","Spanish (Mexico)"],["Espa\xf1ol (Nicaragua)","es-NI","Spanish (Nicaragua)"],["Espa\xf1ol (Panam\xe1)","es-PA","Spanish (Panama)"],["Espa\xf1ol (Paraguay)","es-PY","Spanish (Paraguay)"],["Espa\xf1ol (Per\xfa)","es-PE","Spanish (Peru)"],["Espa\xf1ol (Puerto Rico)","es-PR","Spanish (Puerto Rico)"],["Espa\xf1ol (Rep\xfablica Dominicana)","es-DO","Spanish (Dominican Republic)"],["Espa\xf1ol (Uruguay)","es-UY","Spanish (Uruguay)"],["Espa\xf1ol (Venezuela)","es-VE","Spanish (Venezuela)"],["Euskara (Espainia)","eu-ES","Basque (Spain)"],["Filipino (Pilipinas)","fil-PH","Filipino (Philippines)"],["Fran\xe7ais (Canada)","fr-CA","French (Canada)"],["Fran\xe7ais (France)","fr-FR","French (France)",1],["Galego (Espa\xf1a)","gl-ES","Galician (Spain)"],["\u10e5\u10d0\u10e0\u10d7\u10e3\u10da\u10d8 (\u10e1\u10d0\u10e5\u10d0\u10e0\u10d7\u10d5\u10d4\u10da\u10dd)","ka-GE","Georgian (Georgia)"],["\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0 (\u0aad\u0abe\u0ab0\u0aa4)","gu-IN","Gujarati (India)"],["Hrvatski (Hrvatska)","hr-HR","Croatian (Croatia)"],["IsiZulu (Ningizimu Afrika)","zu-ZA","Zulu (South Africa)"],["\xcdslenska (\xcdsland)","is-IS","Icelandic (Iceland)"],["Italiano (Italia)","it-IT","Italian (Italy)"],["Jawa (Indonesia)","jv-ID","Javanese (Indonesia)"],["\u0c95\u0ca8\u0ccd\u0ca8\u0ca1 (\u0cad\u0cbe\u0cb0\u0ca4)","kn-IN","Kannada (India)"],["\u1797\u17b6\u179f\u17b6\u1781\u17d2\u1798\u17c2\u179a (\u1780\u1798\u17d2\u1796\u17bb\u1787\u17b6)","km-KH","Khmer (Cambodia)"],["\u0ea5\u0eb2\u0ea7 (\u0ea5\u0eb2\u0ea7)","lo-LA","Lao (Laos)"],["Latvie\u0161u (latvie\u0161u)","lv-LV","Latvian (Latvia)"],["Lietuvi\u0173 (Lietuva)","lt-LT","Lithuanian (Lithuania)"],["Magyar (Magyarorsz\xe1g)","hu-HU","Hungarian (Hungary)"],["\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02 (\u0d07\u0d28\u0d4d\u0d24\u0d4d\u0d2f)","ml-IN","Malayalam (India)"],["\u092e\u0930\u093e\u0920\u0940 (\u092d\u093e\u0930\u0924)","mr-IN","Marathi (India)"],["Nederlands (Nederland)","nl-NL","Dutch (Netherlands)"],["\u0928\u0947\u092a\u093e\u0932\u0940 (\u0928\u0947\u092a\u093e\u0932)","ne-NP","Nepali (Nepal)"],["Norsk bokm\xe5l (Norge)","nb-NO","Norwegian Bokm\xe5l (Norway)"],["Polski (Polska)","pl-PL","Polish (Poland)"],["Portugu\xeas (Brasil)","pt-BR","Portuguese (Brazil)",1],["Portugu\xeas (Portugal)","pt-PT","Portuguese (Portugal)"],["Rom\xe2n\u0103 (Rom\xe2nia)","ro-RO","Romanian (Romania)"],["\u0dc3\u0dd2\u0d82\u0dc4\u0dbd (\u0dc1\u0dca\u0dbb\u0dd3 \u0dbd\u0d82\u0d9a\u0dcf\u0dc0)","si-LK","Sinhala (Sri Lanka)"],["Sloven\u010dina (Slovensko)","sk-SK","Slovak (Slovakia)"],["Sloven\u0161\u010dina (Slovenija)","sl-SI","Slovenian (Slovenia)"],["Urang (Indonesia)","su-ID","Sundanese (Indonesia)"],["Swahili (Tanzania)","sw-TZ","Swahili (Tanzania)"],["Swahili (Kenya)","sw-KE","Swahili (Kenya)"],["Suomi (Suomi)","fi-FI","Finnish (Finland)"],["Svenska (Sverige)","sv-SE","Swedish (Sweden)"],["\u0ba4\u0bae\u0bbf\u0bb4\u0bcd (\u0b87\u0ba8\u0bcd\u0ba4\u0bbf\u0baf\u0bbe)","ta-IN","Tamil (India)"],["\u0ba4\u0bae\u0bbf\u0bb4\u0bcd (\u0b9a\u0bbf\u0b99\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0bc2\u0bb0\u0bcd)","ta-SG","Tamil (Singapore)"],["\u0ba4\u0bae\u0bbf\u0bb4\u0bcd (\u0b87\u0bb2\u0b99\u0bcd\u0b95\u0bc8)","ta-LK","Tamil (Sri Lanka)"],["\u0ba4\u0bae\u0bbf\u0bb4\u0bcd (\u0bae\u0bb2\u0bc7\u0b9a\u0bbf\u0baf\u0bbe)","ta-MY","Tamil (Malaysia)"],["\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41 (\u0c2d\u0c3e\u0c30\u0c24\u0c26\u0c47\u0c36\u0c02)","te-IN","Telugu (India)"],["Ti\u1ebfng Vi\u1ec7t (Vi\u1ec7t Nam)","vi-VN","Vietnamese (Vietnam)"],["T\xfcrk\xe7e (T\xfcrkiye)","tr-TR","Turkish (Turkey)"],["\u0627\u0631\u062f\u0648 (\u067e\u0627\u06a9\u0633\u062a\u0627\u0646)","ur-PK","Urdu (Pakistan)"],["\u0627\u0631\u062f\u0648 (\u0628\u06be\u0627\u0631\u062a)","ur-IN","Urdu (India)",1],["\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac (\u0395\u03bb\u03bb\u03ac\u03b4\u03b1)","el-GR","Greek (Greece)"],["\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 (\u0411\u044a\u043b\u0433\u0430\u0440\u0438\u044f)","bg-BG","Bulgarian (Bulgaria)"],["\u0420\u0443\u0441\u0441\u043a\u0438\u0439 (\u0420\u043e\u0441\u0441\u0438\u044f)","ru-RU","Russian (Russia)"],["\u0421\u0440\u043f\u0441\u043a\u0438 (\u0421\u0440\u0431\u0438\u0458\u0430)","sr-RS","Serbian (Serbia)"],["\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430 (\u0423\u043a\u0440\u0430\u0457\u043d\u0430)","uk-UA","Ukrainian (Ukraine)"],["\u05e2\u05d1\u05e8\u05d9\u05ea (\u05d9\u05e9\u05e8\u05d0\u05dc)","he-IL","Hebrew (Israel)"],["\u0627\u0644\u0639\u0631\u0628\u064a\u0629 (\u0625\u0633\u0631\u0627\u0626\u064a\u0644)","ar-IL","Arabic (Israel)"],["\u0627\u0644\u0639\u0631\u0628\u064a\u0629 (\u0627\u0644\u0623\u0631\u062f\u0646)","ar-JO","Arabic (Jordan)"],["\u0627\u0644\u0639\u0631\u0628\u064a\u0629 (\u0627\u0644\u0625\u0645\u0627\u0631\u0627\u062a)","ar-AE","Arabic (United Arab Emirates)"],["\u0627\u0644\u0639\u0631\u0628\u064a\u0629 (\u0627\u0644\u0628\u062d\u0631\u064a\u0646)","ar-BH","Arabic (Bahrain)"],["\u0627\u0644\u0639\u0631\u0628\u064a\u0629 (\u0627\u0644\u062c\u0632\u0627\u0626\u0631)","ar-DZ","Arabic (Algeria)"],["\u0627\u0644\u0639\u0631\u0628\u064a\u0629 (\u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629)","ar-SA","Arabic (Saudi Arabia)"],["\u0627\u0644\u0639\u0631\u0628\u064a\u0629 (\u0627\u0644\u0639\u0631\u0627\u0642)","ar-IQ","Arabic (Iraq)"],["\u0627\u0644\u0639\u0631\u0628\u064a\u0629 (\u0627\u0644\u0643\u0648\u064a\u062a)","ar-KW","Arabic (Kuwait)"],["\u0627\u0644\u0639\u0631\u0628\u064a\u0629 (\u0627\u0644\u0645\u063a\u0631\u0628)","ar-MA","Arabic (Morocco)"],["\u0627\u0644\u0639\u0631\u0628\u064a\u0629 (\u062a\u0648\u0646\u0633)","ar-TN","Arabic (Tunisia)"],["\u0627\u0644\u0639\u0631\u0628\u064a\u0629 (\u0639\u064f\u0645\u0627\u0646)","ar-OM","Arabic (Oman)"],["\u0627\u0644\u0639\u0631\u0628\u064a\u0629 (\u0641\u0644\u0633\u0637\u064a\u0646)","ar-PS","Arabic (State of Palestine)"],["\u0627\u0644\u0639\u0631\u0628\u064a\u0629 (\u0642\u0637\u0631)","ar-QA","Arabic (Qatar)"],["\u0627\u0644\u0639\u0631\u0628\u064a\u0629 (\u0644\u0628\u0646\u0627\u0646)","ar-LB","Arabic (Lebanon)"],["\u0627\u0644\u0639\u0631\u0628\u064a\u0629 (\u0645\u0635\u0631)","ar-EG","Arabic (Egypt)",1],["\u0641\u0627\u0631\u0633\u06cc (\u0627\u06cc\u0631\u0627\u0646)","fa-IR","Persian (Iran)"],["\u0939\u093f\u0928\u094d\u0926\u0940 (\u092d\u093e\u0930\u0924)","hi-IN","Hindi (India)"],["\u0e44\u0e17\u0e22 (\u0e1b\u0e23\u0e30\u0e40\u0e17\u0e28\u0e44\u0e17\u0e22)","th-TH","Thai (Thailand)"],["\ud55c\uad6d\uc5b4 (\ub300\ud55c\ubbfc\uad6d)","ko-KR","Korean (South Korea)"],["\u570b\u8a9e (\u53f0\u7063)","zh-TW","Chinese, Mandarin (Traditional, Taiwan)"],["\u5ee3\u6771\u8a71 (\u9999\u6e2f)","yue-Hant-HK","Chinese, Cantonese (Traditional, Hong Kong)"],["\u65e5\u672c\u8a9e\uff08\u65e5\u672c\uff09","ja-JP","Japanese (Japan)"],["\u666e\u901a\u8a71 (\u9999\u6e2f)","zh-HK","Chinese, Mandarin (Simplified, Hong Kong)"],["\u666e\u901a\u8bdd (\u4e2d\u56fd\u5927\u9646)","zh","Chinese, Mandarin (Simplified, China)"]],normalizeCode:function(e){return e?e.toUpperCase().replace(/_/g,"-"):""},areCodesEqual:function(e,t){return e==t||!(!e||!t)&&this.normalizeCode(e)==this.normalizeCode(t)},isLanguageCodeSupported:function(e){return!!this.getLocaleByCode(e)},supportedLanguagesString:function(){var e,n="",a=t(this.allLocales);try{for(a.s();!(e=a.n()).done;){var i=e.value;n+=this.codeToLabel(i[1])+"\n"}}catch(o){a.e(o)}finally{a.f()}return n},codeToName:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"native";if(!e)return"";var a,i=e.includes("-")||e.includes("_")?this.allLocales:this.getSupportedLanguagesOnlyList(),o=t(i);try{for(o.s();!(a=o.n()).done;){var r=a.value;if(this.areCodesEqual(r[1],e))switch(n){case"english":return r[2];case"both":return r[0]+" - "+r[2];default:return r[0]}}}catch(s){o.e(s)}finally{o.f()}return e.toUpperCase()},getFlagForCountryCode:function(e){if(null==e||2!=e.length)return e?e.substring(0,3):"";if("IL"==(e=e.toUpperCase()))return"\ud83c\uddee\ud83c\uddf1";if("PS"==e)return"\ud83c\uddf5\ud83c\uddf8";return String.fromCodePoint(e.codePointAt(0)-65+127462)+String.fromCodePoint(e.codePointAt(1)-65+127462)},codeToCountryCode:function(e){if(!e||e.length<2)return"";if((e=e.replace("-","_")).indexOf("_")>-1){var t=e.split("_");e=t[t.length-1]}else if("zh"==(e=e.substring(e.length-2,e.length))||"ZH"==e)return"CN";return e},codeToLanguageCodeOnly:function(e){return null==e||e.length<2?"":e.toLowerCase().replace("_","-").split("-")[0]},doCodesShareLanguage:function(e,t){return this.codeToLanguageCodeOnly(e)==this.codeToLanguageCodeOnly(t)},getLocaleByCode:function(e){if(!e)return"";if(!(e=this.normalizeCode(e)).includes("-"))return this.getDefaultLocaleForLanguage(e);var n,a=t(this.allLocales);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(this.areCodesEqual(i[1],e))return i}}catch(o){a.e(o)}finally{a.f()}return""},getSupportedLanguagesOnlyList:function(){var e,n={},a=t(this.allLocales);try{for(a.s();!(e=a.n()).done;){var i=e.value;n[this.codeToLanguageCodeOnly(i[1])]=[i[0].split(" (")[0],this.codeToLanguageCodeOnly(i[1]),i[2].split(" (")[0]]}}catch(c){a.e(c)}finally{a.f()}var o,r=[],s=t(Object.getOwnPropertyNames(n));try{for(s.s();!(o=s.n()).done;){var l=o.value;r.push(n[l])}}catch(c){s.e(c)}finally{s.f()}return r=r.sort((function(e,t){return e[0].localeCompare(t[0])}))},getAllLocalesForLanguage:function(e){var t=this;return e?(e=this.codeToLanguageOnly(e),this.allLocales.filter((function(n){return t.codeToLanguageCodeOnly(n[1])==e}))):[]},getDefaultLocaleForLanguage:function(e){var t=this;if(!e)return"";e=this.codeToLanguageOnly(e).toLowerCase();var n=this.allLocales.filter((function(n){return t.codeToLanguageCodeOnly(n[1])==e}));if(!n||0==n.length)return"";if(1==n.length)return n[0];var a=n.filter((function(e){return e.length>3}));return a&&a.length>0?a[0]:n[0]},codeToLanguageOnly:function(e){return e?e.toLowerCase().replace("_","-").split("-")[0]:""},codeToFlag:function(e){return this.getFlagForCountryCode(this.codeToCountryCode(e))},codeToLabel:function(e){return this.codeToFlag(e)+" "+this.codeToName(e)}},p=v;function m(e,t){var n=p.codeToFlag(e.lang),a=e.name.split(" ")[0];return a.length>10&&(a=a.substring(0,10)+"..."),t&&window.matchMedia("screen and (max-width: 450px)").matches?n:n+" "+a}var y=u((function e(t){var n=this;d(this,e),this.persist=function(e,t){null===t||void 0===t?window.localStorage.removeItem(n.preKey+e):(t instanceof Object&&(t=JSON.stringify(t)),window.localStorage.setItem(n.preKey+e,t))},this.get=function(e,t){var a=window.localStorage.getItem(n.preKey+e);return null===a||void 0===a?null:(t&&("Object"===t?a=JSON.parse(a):"number"==t&&(a=parseFloat(a))),a)},this.preKey=t+"_"})),S=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],w=[.4,.5,.6,.7,.75,.8,.85,.9,.95,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.25,2.5,2.9];var b=function(){console.log("Hello App");var e=new y("TTSReaderPlayer"),n=[["caretPosition","Object"],["selectedFontSize",""],["selectedVoiceUri",""],["selectedLanguageCode",""],["selectedRate","number"],["selectedRateSliderValue","number"]],a=function(){for(var t={},a=0,i=n;a<i.length;a++){var o=i[a],r=o[0],s=o[1],l=e.get(r,s);null!==l&&(t[r]=l)}return t}(),i=e.get("content");i&&(document.querySelector(".Text-box").innerHTML=i),console.log(a);var o=s(s({},{ttsReady:!1,isPlayingOn:!1,isRecordingOn:!1,caretPosition:{node:0,charStart:0,charEnd:0},selectedVoiceUri:"",selectedLanguageCode:"en-US",selectedRate:1,selectedRateSliderValue:10,selectedFontSize:"20px",isRecordingSupported:window.navigator.userAgent.toLowerCase().includes("win")}),a),r=new h(o);r.addChangeListener((function(t){for(var a=0,i=n;a<i.length;a++){var o=i[a][0];e.persist(o,t[o])}}));var c=function(){r.data.isPlayingOn?L():d()},u=function(e){l.TtsEngine.setVoiceByUri(r.data.selectedVoiceUri),l.TtsEngine.setRate(r.data.selectedRate);var t=g(document.querySelector(".Text-box"),e),n=t.newCaretPosition,a=t.textToSpeak;r.updateWithParams({caretPosition:n}),0==n.node&&0===n.charEnd?L():l.TtsEngine.speakOut(a)},d=function(){if(r.updateWithParams({isPlayingOn:!0}),!document.querySelector(".Text-box").textContent.trim())return l.TtsEngine.setBestMatchingVoice("","","en-GB"),l.TtsEngine.setRate(1),void l.TtsEngine.speakOut("Type some text, so I can read it out loud for you.");u(r.data.caretPosition)},v=function(e,n){var a=document.querySelector(".Voices-list"),i=function(e,t){if(!e||!t||0==t.length)return[];var n=t.filter((function(t){if(p.areCodesEqual(t.lang,e))return t}));return n.sort((function(e,t){return e.name>t.name?1:-1}))}(e,n),o=function(e,n){if(p.areCodesEqual(e,"en-US"))for(var a=0,i=["Samantha","Google","Reed"];a<i.length;a++){var o,r=i[a],s=t(n);try{for(s.s();!(o=s.n()).done;){var l=o.value;if(l.name.toLowerCase().includes(r.toLowerCase()))return l}}catch(O){s.e(O)}finally{s.f()}}else if(p.areCodesEqual(e,"en-GB"))for(var c=0,u=["Daniel","Google UK English Male","Samantha","Google","Reed"];c<u.length;c++){var d,h=u[c],f=t(n);try{for(f.s();!(d=f.n()).done;){var g=d.value;if(g.name.toLowerCase().includes(h.toLowerCase()))return g}}catch(O){f.e(O)}finally{f.f()}}var v,m=t(n);try{for(m.s();!(v=m.n()).done;){var y=v.value;if(y.name.toLowerCase().includes("google"))return y}}catch(O){m.e(O)}finally{m.f()}var S,w=t(n);try{for(w.s();!(S=w.n()).done;){var b=S.value;if(b.name.toLowerCase().includes("enhanced"))return b}}catch(O){w.e(O)}finally{w.f()}var T,E=["grandpa","grandma"],C=t(n);try{for(C.s();!(T=C.n()).done;){var L,A=T.value,P=t(E);try{for(P.s();!(L=P.n()).done;){var I=L.value;A.name.toLowerCase().includes(I)}}catch(O){P.e(O)}finally{P.f()}return A}}catch(O){C.e(O)}finally{C.f()}return n[0]}(e,i);if(o.voiceURI!==i[0].voiceURI&&(i=i.filter((function(e){if(e.voiceURI!==o.voiceURI)return e})),i.unshift(o)),a){a.innerHTML="";var r,s=t(i);try{for(s.s();!(r=s.n()).done;){var l=r.value,c=document.createElement("div"),u=l.voiceURI,d=l.name;c.classList.add("Voice-list-element"),c.setAttribute("value",u),c.setAttribute("data-ws-select-if-state","selectedVoiceUri="+u),c.innerHTML='<span value="'+u+'" onClick="window.appMethods.selectVoice(\''+u+"')\">"+d+'</span>                <span value="'+u+'" onClick="window.appMethods.testVoice(\''+u+'\')"><svg class="Top-btn-svg" focusable="false" aria-hidden="true" viewBox="0 0 24 24"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"></path></svg></span>',a.appendChild(c)}}catch(h){s.e(h)}finally{s.f()}}return o},b=function(e,t,n){var a=e.childNodes[0],i=t.node;e.childNodes.length>i&&i>=0&&(a=e.childNodes[i]),a instanceof Element&&(a=(e=a).childNodes[0]),e.removeChild(a);var o=document.createElement("span");o.classList.add(n?"Blink":"Highlight"),o.appendChild(a),e.prepend(o),o.scrollIntoView({behavior:"smooth",block:"center"}),n&&setTimeout((function(){var e=o.firstChild;o.parentElement.insertBefore(e,o),o.remove()}),1e3)},T=function e(t,n){var a=document.querySelector(".Text-box");if(a.textContent){var i=a.childNodes;if(!(i.length<=1)){var o=(t+n)%i.length;if(o<0&&(o=i.length-1),i[o].textContent.trim()){var s={node:o,charStart:0,charEnd:0};console.log("old caret: "+r.data.caretPosition.node+", new: "+s.node),r.updateWithParams({caretPosition:s}),b(a,s,!0)}else e(o,n)}}},E=function(e){var t=function(e,t){var n=0;if(w[0]===e)n=0;else for(;n<w.length&&w[n+1]<=e;)n++;return t?n--:n++,n>=w.length&&(n=w.length-1),n<0&&(n=0),[w[n],S[n]]}(r.get("selectedRate"),e),n=t[1],a=t[0];r.updateWithParams({selectedRateSliderValue:n,selectedRate:a})},C=function(e){var t=Number.parseFloat(r.get("selectedFontSize").split("px")[0])*e+"px";r.updateWithParams({selectedFontSize:t})},L=function(){var e=s(s({},r.data.caretPosition),{},{charEnd:r.data.caretPosition.charStart});r.updateWithParams({isPlayingOn:!1,caretPosition:e}),l.TtsEngine.stop()},A={togglePlay:c,goToStart:function(e){T(-1,1)},goToCaret:function(e){alert("This function is under development. When ready, it will bring the player position to where you manually place the caret in the text.")},rewind:function(e){T(r.data.caretPosition.node,-1)},forward:function(e){T(r.data.caretPosition.node,1)},onPaste:function(t){t.preventDefault();var n=t.clipboardData.getData("text/plain");document.execCommand("insertText",!1,n);var a=t.currentTarget.innerHTML;e.persist("content",a)},onRateChange:function(e){var t=e.currentTarget.value,n=function(e){var t=0;if(S[0]==e)return w[0];for(;t<S.length&&S[t+1]<=e;)t++;return w[t]}(t);r.updateWithParams({selectedRateSliderValue:t,selectedRate:n})},slower:function(e){E(!0)},faster:function(e){E(!1)},fontIncrease:function(e){C(1.1)},fontDecrease:function(e){C(1/1.1)},selectVoice:function(e){l.TtsEngine.setBestMatchingVoice(null,e,"");var t=m(l.TtsEngine.voice,!0);r.updateWithParams({selectedVoiceUri:e,voiceLabel:t})},testVoice:function(e){r.get("isPlayingOn")&&c(),l.TtsEngine.setBestMatchingVoice(null,e,""),l.TtsEngine.setRate(1);var t="Hi, my name is "+l.TtsEngine.voice.name+", and this is my voice.";l.TtsEngine.speakOut(t)},handleVoiceChange:function(e){var t=e.currentTarget.value;l.TtsEngine.setBestMatchingVoice(null,t,"");var n=m(l.TtsEngine.voice,!0);r.updateWithParams({selectedVoiceUri:t,voiceLabel:n})},handleLanguageChange:function(e){var t=e.currentTarget.value,n=v(t,l.TtsEngine.voices),a=n.voiceURI,i=m(n,!0);r.updateWithParams({selectedLanguageCode:t,selectedVoiceUri:a,voiceLabel:i})},onInput:function(t){var n=t.currentTarget.innerHTML;e.persist("content",n)}};window.appMethods=A,f.init(r,A);var P={onInit:function(e){console.log("tts initiated");var n=function(e){if(!e||0==e.length)return[];var n,a=[],i=t(e);try{for(i.s();!(n=i.n()).done;){var o=n.value.lang;a.includes(o)||a.push(o)}}catch(s){i.e(s)}finally{i.f()}var r=[];return a.forEach((function(e){r.push([e,p.codeToName(e,"native")])})),r.sort((function(e,t){return e[1]>t[1]?1:e[1]==t[1]?0:-1})),r.unshift(["en-US",p.codeToName("en-US","native")]),r.unshift(["en-GB",p.codeToName("en-GB","native")]),r}(e);console.log("locales: ",n);var a=l.TtsEngine.setBestMatchingVoice(null,r.get("selectedVoiceUri"),r.get("selectedLanguageCode")),i=l.TtsEngine.voice.lang,o=document.querySelector(".Language-selector");if(o){var s,c=t(n);try{for(c.s();!(s=c.n()).done;){var u=s.value,d=document.createElement("option");d.value=u[0],d.innerHTML=p.codeToFlag(u[0])+"&nbsp;"+u[1],o.appendChild(d)}}catch(f){c.e(f)}finally{c.f()}}v(i,e);var h=m(l.TtsEngine.voice,!0);r.updateWithParams({ttsReady:!0,selectedVoiceUri:a,selectedLanguageCode:i,voiceLabel:h})},onDone:function(){if(console.log("onDone"),document.querySelectorAll(".Highlight").forEach((function(e){var t=e.firstChild;e.parentElement.insertBefore(t,e),e.remove()})),r.data.isPlayingOn){var e=s(s({},r.data.caretPosition),{},{charStart:r.data.caretPosition.charEnd});r.updateWithParams({caretPosition:e}),u(e)}},onStart:function(){if(r.get("isPlayingOn")&&document.querySelector(".Text-box").textContent.trim()){r.data.caretPosition.node;var e=document.querySelector(".Text-box");b(e,r.data.caretPosition)}}};l.TtsEngine.init(P)};console.log=function(){},console.debug=function(){};var T=Date.now();function E(){return Math.round((Date.now()-T)/1e3)+": "}function C(){b()}"loading"===document.readyState?(console.log(E()+"Script awaiting to load all DOM"),window.addEventListener("DOMContentLoaded",(function(e){C()}))):(console.log(E()+"Loading script right away"),C())}()}();
//# sourceMappingURL=main.45dc584e.js.map